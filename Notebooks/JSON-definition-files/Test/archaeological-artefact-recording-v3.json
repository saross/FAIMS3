{
  "metadata": {
    "name": "Archaeological Historical Artefact Recording",
    "notebook_version": "3.0",
    "schema_version": "1.0",
    "project_lead": "",
    "lead_institution": "",
    "pre_description": "Simple notebook for recording archaeological historical artefacts with linked additional photos",
    "project_status": "New",
    "ispublic": false,
    "isrequest": false,
    "showQRCodeButton": true,
    "accesses": ["admin", "moderator", "team"]
  },
  "ui-specification": {
    "fields": {
      "Artefact_ID": {
        "component-namespace": "faims-custom",
        "component-name": "BasicAutoIncrementer",
        "type-returned": "faims-core::String",
        "component-parameters": {
          "label": "Artefact ID",
          "name": "Artefact_ID",
          "helperText": "Auto-generated artefact identifier",
          "fullWidth": true,
          "variant": "outlined",
          "num_digits": 4,
          "form_id": "Artefact"
        },
        "validationSchema": [["yup.string"], ["yup.required"]],
        "initialValue": "",
        "meta": {
          "annotation": {
            "include": false,
            "label": "annotation"
          },
          "uncertainty": {
            "include": false,
            "label": "uncertainty"
          }
        }
      },
      "Bag_ID": {
        "component-namespace": "qrcode",
        "component-name": "QRCodeFormField",
        "type-returned": "faims-core::String",
        "component-parameters": {
          "label": "Bag ID",
          "name": "Bag_ID",
          "helperText": "Scan QR code on the artefact bag",
          "fullWidth": true,
          "variant": "outlined",
          "required": true
        },
        "validationSchema": [["yup.string"], ["yup.required"]],
        "initialValue": "",
        "meta": {
          "annotation": {
            "include": true,
            "label": "annotation"
          },
          "uncertainty": {
            "include": true,
            "label": "uncertainty"
          }
        }
      },
      "Context_Number": {
        "component-namespace": "formik-material-ui",
        "component-name": "TextField",
        "type-returned": "faims-core::Integer",
        "component-parameters": {
          "label": "Context Number",
          "name": "Context_Number",
          "helperText": "Enter the context number",
          "fullWidth": true,
          "variant": "outlined",
          "required": false,
          "InputProps": {
            "type": "number"
          }
        },
        "validationSchema": [["yup.number"]],
        "initialValue": "",
        "meta": {
          "annotation": {
            "include": true,
            "label": "annotation"
          },
          "uncertainty": {
            "include": true,
            "label": "uncertainty"
          }
        }
      },
      "HRID": {
        "component-namespace": "faims-custom",
        "component-name": "TemplatedStringField",
        "type-returned": "faims-core::String",
        "component-parameters": {
          "label": "Human Readable ID",
          "name": "HRID",
          "helperText": "Auto-generated from Artefact ID and Bag ID",
          "fullWidth": true,
          "variant": "outlined",
          "template": "{{Artefact_ID}}-{{Bag_ID}}",
          "InputProps": {
            "type": "text",
            "readOnly": true
          }
        },
        "validationSchema": [["yup.string"], ["yup.required"]],
        "initialValue": "",
        "meta": {
          "annotation": {
            "include": false,
            "label": "annotation"
          },
          "uncertainty": {
            "include": false,
            "label": "uncertainty"
          }
        }
      },
      "Class": {
        "component-namespace": "faims-custom",
        "component-name": "Select",
        "type-returned": "faims-core::String",
        "component-parameters": {
          "label": "Class",
          "name": "Class",
          "helperText": "Select the artefact class",
          "fullWidth": true,
          "variant": "outlined",
          "required": true,
          "select": true,
          "ElementProps": {
            "options": [
              {
                "label": "Ceramic",
                "value": "Ceramic"
              },
              {
                "label": "Glass",
                "value": "Glass"
              },
              {
                "label": "Metal",
                "value": "Metal"
              },
              {
                "label": "Miscellaneous",
                "value": "Miscellaneous"
              },
              {
                "label": "Faunal",
                "value": "Faunal"
              },
              {
                "label": "Organic",
                "value": "Organic"
              },
              {
                "label": "Building Materials",
                "value": "Building Materials"
              }
            ]
          }
        },
        "validationSchema": [["yup.string"], ["yup.required"]],
        "initialValue": "",
        "meta": {
          "annotation": {
            "include": true,
            "label": "annotation"
          },
          "uncertainty": {
            "include": true,
            "label": "uncertainty"
          }
        }
      },
      "Quantity": {
        "component-namespace": "formik-material-ui",
        "component-name": "TextField",
        "type-returned": "faims-core::Integer",
        "component-parameters": {
          "label": "Quantity",
          "name": "Quantity",
          "helperText": "Enter the quantity of artefacts",
          "fullWidth": true,
          "variant": "outlined",
          "required": true,
          "InputProps": {
            "type": "number"
          }
        },
        "validationSchema": [["yup.number"], ["yup.required"], ["yup.min", 1]],
        "initialValue": "1",
        "meta": {
          "annotation": {
            "include": true,
            "label": "annotation"
          },
          "uncertainty": {
            "include": true,
            "label": "uncertainty"
          }
        }
      },
      "Photograph": {
        "component-namespace": "faims-custom",
        "component-name": "TakePhoto",
        "type-returned": "faims-attachment::Files",
        "component-parameters": {
          "label": "Photograph",
          "name": "Photograph",
          "helperText": "Take a photo of the artefact(s)",
          "fullWidth": true,
          "variant": "outlined",
          "required": false
        },
        "validationSchema": [
          ["yup.array"],
          ["yup.of", [["yup.object"], ["yup.nullable"]]],
          ["yup.nullable"]
        ],
        "initialValue": null,
        "meta": {
          "annotation": {
            "include": true,
            "label": "annotation"
          },
          "uncertainty": {
            "include": true,
            "label": "uncertainty"
          }
        }
      },
      "Note": {
        "component-namespace": "formik-material-ui",
        "component-name": "MultipleTextField",
        "type-returned": "faims-core::String",
        "component-parameters": {
          "label": "Note",
          "name": "Note",
          "helperText": "Additional notes about the artefact",
          "fullWidth": true,
          "variant": "outlined",
          "multiline": true,
          "required": false,
          "InputProps": {
            "rows": 3
          }
        },
        "validationSchema": [["yup.string"]],
        "initialValue": "",
        "meta": {
          "annotation": {
            "include": true,
            "label": "annotation"
          },
          "uncertainty": {
            "include": true,
            "label": "uncertainty"
          }
        }
      },
      "additional-photos": {
        "component-namespace": "faims-custom",
        "component-name": "RelatedRecordSelector",
        "type-returned": "faims-core::Relationship",
        "component-parameters": {
          "label": "Additional Photos",
          "name": "additional-photos",
          "helperText": "Add additional photos for this artefact",
          "fullWidth": true,
          "variant": "outlined",
          "related_type": "Additional_Photo",
          "relation_type": "Child",
          "multiple": true,
          "allowLinkToExisting": false
        },
        "validationSchema": [["yup.array"]],
        "initialValue": [],
        "meta": {
          "annotation": {
            "include": false,
            "label": "annotation"
          },
          "uncertainty": {
            "include": false,
            "label": "uncertainty"
          }
        }
      },
      "photo-id": {
        "component-namespace": "faims-custom",
        "component-name": "BasicAutoIncrementer",
        "type-returned": "faims-core::String",
        "component-parameters": {
          "label": "Photo ID",
          "name": "photo-id",
          "helperText": "Auto-generated photo identifier",
          "fullWidth": true,
          "variant": "outlined",
          "num_digits": 3,
          "form_id": "Additional_Photo"
        },
        "validationSchema": [["yup.string"], ["yup.required"]],
        "initialValue": "",
        "meta": {
          "annotation": {
            "include": false,
            "label": "annotation"
          },
          "uncertainty": {
            "include": false,
            "label": "uncertainty"
          }
        }
      },
      "photo-hrid": {
        "component-namespace": "faims-custom",
        "component-name": "TemplatedStringField",
        "type-returned": "faims-core::String",
        "component-parameters": {
          "label": "Photo Record ID",
          "name": "photo-hrid",
          "helperText": "Auto-generated photo identifier",
          "fullWidth": true,
          "variant": "outlined",
          "template": "PHOTO-{{photo-id}}",
          "InputProps": {
            "type": "text",
            "readOnly": true
          }
        },
        "validationSchema": [["yup.string"], ["yup.required"]],
        "initialValue": "",
        "meta": {
          "annotation": {
            "include": false,
            "label": "annotation"
          },
          "uncertainty": {
            "include": false,
            "label": "uncertainty"
          }
        }
      },
      "Additional_Photo": {
        "component-namespace": "faims-custom",
        "component-name": "TakePhoto",
        "type-returned": "faims-attachment::Files",
        "component-parameters": {
          "label": "Additional Photo",
          "name": "Additional_Photo",
          "helperText": "Take additional photo of the artefact",
          "fullWidth": true,
          "variant": "outlined",
          "required": true
        },
        "validationSchema": [
          ["yup.array"],
          ["yup.of", [["yup.object"], ["yup.nullable"]]],
          ["yup.required"]
        ],
        "initialValue": null,
        "meta": {
          "annotation": {
            "include": true,
            "label": "annotation"
          },
          "uncertainty": {
            "include": true,
            "label": "uncertainty"
          }
        }
      },
      "Note_Additional": {
        "component-namespace": "formik-material-ui",
        "component-name": "MultipleTextField",
        "type-returned": "faims-core::String",
        "component-parameters": {
          "label": "Note",
          "name": "Note_Additional",
          "helperText": "Notes about this additional photo",
          "fullWidth": true,
          "variant": "outlined",
          "multiline": true,
          "required": false,
          "InputProps": {
            "rows": 3
          }
        },
        "validationSchema": [["yup.string"]],
        "initialValue": "",
        "meta": {
          "annotation": {
            "include": true,
            "label": "annotation"
          },
          "uncertainty": {
            "include": true,
            "label": "uncertainty"
          }
        }
      }
    },
    "fviews": {
      "Artefact-BasicInfo": {
        "label": "Basic Info",
        "fields": [
          "Artefact_ID",
          "Bag_ID",
          "Context_Number",
          "HRID"
        ]
      },
      "Artefact-CountDetails": {
        "label": "Count & Details",
        "fields": [
          "Class",
          "Quantity",
          "Photograph",
          "Note"
        ]
      },
      "Artefact-RelatedRecords": {
        "label": "Related Records",
        "fields": [
          "additional-photos"
        ]
      },
      "AdditionalPhoto-Main": {
        "label": "Additional Photo",
        "fields": [
          "photo-id",
          "photo-hrid",
          "Additional_Photo",
          "Note_Additional"
        ]
      }
    },
    "viewsets": {
      "Artefact": {
        "label": "Artefact",
        "views": ["Artefact-BasicInfo", "Artefact-CountDetails", "Artefact-RelatedRecords"],
        "hridField": "HRID",
        "publishButtonBehaviour": "always",
        "layout": "tabs"
      },
      "Additional_Photo": {
        "label": "Additional Photo",
        "views": ["AdditionalPhoto-Main"],
        "hridField": "photo-hrid",
        "publishButtonBehaviour": "always"
      }
    },
    "visible_types": ["Artefact"]
  }
}